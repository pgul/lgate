
 Как это принято,
! - bug fix,
+ - new feature,
* - change feature,
- - remove feature.

ver 1.0 - Jul 94
  + Netmail gate

ver 1.1 - Aug 94
  ! bug fix

ver 2.0 - 17 Sep 94
  + conference gate (cnews & feed download, newsserv upload)
  ! some bugs fixed

ver 2.1 - 8 Oct 94
  * chaddr отрабатывается в обе стороны (раньше только fido->relcom)
  ! более честно разбираются cnews-пакеты
  ! более честно разбирается поле From (например, теперь нормально
    отрабатывается "From: Boris Bitny (Bor Mal) <bor@mercury.kiev.ua>" и
    "From: (<BorMal>) bor@mercury.kiev.ua")
  * rel2fido перерос .com и превратился в .exe
  ! аккурантнее отрабатываются ошибочные ситуации
  + в имени пользователя при гейтовании relcom->fido символ '.' заменяется
    на ' ', если нет ни одного '_', т.е. допустимы адреса как
    Pavel.Gulchouck@f68.n463.z2.fidonet.org, так и
    Michael_V._Brun@p12.f68.n463.z2.fidonet.org.
  + отрабатывается повторное гейтование писем

ver 2.2 - 12 Oct 94
  + cnews upload
  + новый параметр cnewssize в gate.cfg
  * fido2rel перерос .com и превратился в .exe, но из эстетических
    соображений (fido to rel.com) ему оставлено расширение .com.
  + введено поле X-FTN-MsgId, которое обрабатывается при конвертации
    relcom->fido.

ver 2.3 - 17 Oct 94
  + совместимость с UUPC ver 6.x и новый параметр uupcver в gate.cfg.

ver 2.4 - 28 Oct 94
  + поддержка TimeZone и параметр "timezone=" в конфиге
  * оставляется поле заголовка Resent-From:
  + преобразование Received: в @Via
  - убрана запись о старте гейта в log, если ничего не произошло
  + протоколируется размер гейтуемых личных писем
  * X-Mailer преобразуется не в @RFC-X-Mailer, а в @PID для личных писем
  ! Bug fixed (гейтование конференций relcom->fido, XC - последняя конференция
    не учитывалась)
  ! изменен алгоритм опознавания бинарной информации (раньше не всегда ловил)
  + добавлен параметр "uucode=" (Y/N).
  * изменена диагностика
  * rmail теперь запускается spawn-ом (а не system) с подменой stdin, в
    результате стала возможной проверка его кода завершения, что, в свою
    очередь, привело к нормальной реакции на переполнение диска.

ver 2.5 - 20 Nov 94 (never released)
  ! исправлена ошибка при реакции на некорректные пакеты и ситуации (напр.,
    переполнение диска) - не все ошибочные pkt удалялись
  ! исправлена ошибка разбиения письма на _очень_ много частей (>30) -
    thanks for Eugen Sidorets
  * изменен формат создаваемых pkt
  + понимается бэнговая адресация типа ...!fidonet!463/68 или
    ...!f68.n463.z2.fidonet.org!Pavel_Gulchouck
  * изменены параметры запуска rmail.exe, в результате в поле "From "
    пишется, например, ...!fidonet!f68.n463.z2.fidonet.org!Pavel_Gulchouck
    и сообщения об ошибках приходят автору письма, а не gatemaster-у
  * слегка изменен алгоритм преобразования received -> via

ver 2.6 - 05 Dec 94
  ! исправлена ошибка в формировании строки "From "
  ! отрабатывается случай символов '(', ')', '<', '>', ';', ':', ','
    в имени сисопа гейтуемого письма
  * поля "Received: " переставлены в начало заголовка
  * изменяется порядок полей via/received при гейтовании (что повлекло за
    собой довольно существенные изменения модуля fido2rel.com)
  + при гейтовании из релкома первая строка "To:" переносится в поле "To:"
    заголовка фидошного письма, как и поле "To:" заголовка в письме 
    cnews-пакета (что повлекло за собой существенные изменения модуля
    rel2fido)
  * при гейтовании из релкома время письма ставится по временной зоне гейта
  + поддерживается возможность формирования исходящих адресов типа 
    Pavel_Gulchouck%f68.n463.z2.fidonet.org@carrier.kiev.ua
  ! если в поле newsgroups дважды или более встречалась одна и та же
    гейтуемая конференция, получались дупы. Fixed.
  * изменены параметры запуска rmail при пересылке неправильного письма
    постмастеру (rel2fido). Теперь сохраняется путь ("From ").
  * при архивации cnews-пакетов gzip-у добавлен ключ "-9"
  ! в лог и иногда в header месяц писался неправильно. Fixed.
    Thanks to Vladimir Tkach
  ! при пересылке сисопу неправильного echomail всегда сохраняется клудж
    RFC-Newsgroups
  + введен новый (необязательный) параметр в gate.cfg "netdomain" - именно
    он пишется в path при формировании cnews-пакетов
  + при гейтовании сохраняются (кроме межзонального случая, конечно) клуджи
    path и seen-by
  + добавлен параметр seen-by в конфиг
  + введено разделение изменений на '+', '*', '-' и '!' в этом файле. ;-)
  + добавлен необязательный параметр badmail в gate.cfg - куда кидать письма
    в неописанные конференции (по умолчанию - netmail)
  * снято ограничение на кол-во гейтуемых конференций - все определяется
    объемом свободной памяти
  - теперь под gzip выделяется ровно столько памяти, сколько он заслуживает.
    Поэтому нельзя гарантировать, что гейт будет работать с другими версиями
    gzip (в поставке идет ver 1.2.4)
  + Добавлена утилита forward, позволяющая, в частности, читать приходящую
    фидошную почту internet-редактором (и многое другое)

ver 2.7 - 10 Dec 1994
  ! Cnews upload - bug fixed. В ver 2.6 неправильно писался размер письма
    в строке "#! rnews"
  ! Отрабатывается случай присутсвия в заголовках полей RFC- и X-FTN-,
    которые дублировали поля To, From, Subject, Date, Newsgroups, Path и др.
  + Hаконец-то введены команды route-to и no-route, т.е. реализована
    возможность передачи ftn-писем via uucp на другой uucp<->ftn гейт.
    В этом случае игнорируются все ограничения и не происходит замена
    адреса по chaddr. Hе пересылаются письма с аттрибутами hold, direct, 
    crash, immediate

ver 2.8 - 30 Dec 1994
  ! Отрабатывается случай многозадачности (share) или локальной сети
  ! Bug fixed (rel2fido, не всегда корректно отрабатывалось переполнение
    диска)
  + Добавлена команда route-files, отправляющая аттачи (не hold, direct,
    crash, immadiate) и, если указан каталог, файлы оттуда в uucode на
    указанный адрес
  + добавлена команда filebox, откуда берутся почтовые архивы в uucode,
    отправленные с описанных в route-files адресов
    Команды route-files и filebox отрабатываются отдельной утилитой attuucp.

ver 2.9 - 20 Jan 1995
  ! rel2fido - не всегда корректно отрабатывалась бэнговая адресация
  ! Обрезались адреса длиннее 80 символов в rel2fido
  ! forward - bug fixed (в случае permission denied мог вешать машину)
  ! rel2fido - иногда (очень редко) мог теряться перевод строки после строки
    Via
  ! В ver 2.8 забыл поменять версию в создаваемых .pkt
  ! rel2fido - отрабатываются параметры newsdir и maildir в uucp.rc ver 6.x
  + В поставку добавлен file_id.diz :-)
  ! rel2fido - протоколировались не все сообщения об ошибках
  * Изменен формат log-файла (стандартизирован)
    Сообщения в log (первый символ):
        '?' - ошибка
        '!' - предупреждение
        '>' - нормальное гейтование netmail
        '-' - гейтование echomail/newsgroup (опционально)
  + Hовый параметр config: echolog, теперь может протоколироваться гейтование
    эхоконференций
  ! rel2fido - отрабатываются фидошные msgid типа 
    <2_463/68_11_35f72ac0@fidonet.org>, если нет X-FTN-MSGID.
  ! При двойном гейтовании конференций fido->usenet->fido не происходит
    добавления своего origin-а и tearline (не работает в случае chaddr)
  * Tearline ('---') вообще никогда не заменяется на '───' или '-+-' 
    (а зачем? Hу и что, что их может быть много).
  ! rel2fido - устранен бардак в порядке полей Via при наличии как received,
    так и x-ftn-via
  + rel2fido - отрабатывается поле заголовка X-Ftn-Tearline
  ! fido2rel.com - не совсем корректно отрабатывалась команда route-to
  ! rel2fido - писала в заголовок плохих писем не совсем то, что
    задумывалось при указании badmail area.

ver 2.10 - 10 Mar 1995
  + Существенно переписано attuucp
  ! fido2rel.com - искажалось имя to после гейтования без k/s
  ! не отрабатывалась сокращенная форма адреса с указанием зоны, но без
    указания имени (напр., 2.463/68@fidonet.carrier.kiev.ua)
  ! иногда добавлялся свой origin, когда этого можно было не делать
  ! gate.log теперь открывается в разделяемом режиме (DenyWrite)
  + добавлена команда to-ifmail в gate.cfg. Аналогична route-to с той
    разницей, что заголовок формируется исключительно для ifmail-а
    со всеми его "заездами"
  - найдена ошибка в утилите gzip.exe ver 1.2.4 - вешается, #$%^$.
    Переполз на более старую версию 1.0.4, в связи с чем гейт стал
    более критичен к памяти (ver 1.0.4 нужно 390K для работы, в то время,
    как 1.2.4 хватает 300) - теперь ему для нормальной работы нужно ~500K
  + attuucp - поддерживается передача файлов по uucp (!пользоваться
    осторожно - см. gate.doc!)
  + в gate.doc добавлено описание создания ftn-линка via uucp
  + Поля recent-* обрабатываются так же, как и resent-*
  * При гейтовании по route-to и to-ifmail строки не разбиваются
  * X-Mailer всегда конвертится в @PID
  + Для netmail прописывается @Via ... GooGate ...
  ! иногда при двойном гейтовании message-id приобретал дополнительные
    угловые скобки  
  + rel2fido - отрабатывается поле заголовка x-ftn-origin
  ! rel2fido - если имя сисопа начинается с '@' или '%', то перед этим
    вставляется '_' или '.'
  + Адреса типа SysOp%f30.n5020.z2.fidonet.org@phantom.ru распознаются
    как фидошные
  ! Опять исправлено искажение адреса from в .msg после гейтования письма
    без флага k/s
  * В случае двойного гейтования ftn->internet->ftn поля @To и @RFCID не
    пишутся
  - Hе пишутся клуджи @RFC-Priority и @RFC-X-Sender
  + Максимальное кол-во параметров chaddr, send-to, no-send увеличено с
    16 до 32, rel2fido переросло из small-модели в large
  + Hовый (необязательный) параметр в gate.cfg - chdomain
  ! Hе всегда корректно вычислялось смещение временной зоны

ver 2.11 - 30 Mar 95
  * Если письмо fido->internet->fido, то Real-Name никогда не пишется
  ! При двойном гейтовании fido->internet->fido клудж @To оставлялся
  + При гейтовании internet->fido->internet если письмо было на имя
    uucp, а в поле "To:" был internet-адрес, то это поле "To:" оставляется
    нескрытым для последующего гейтования в internet
  + Первые буквы имени-фамилии сисопов всегда переводятся в uppercase
  ! uupc.rc теперь открывается в разделяемом режиме
  + отрабатывается параметр ExtCharset в uupc.rc и, если он есть,
    перекодировка происходит по заданной там таблице (при этом вместо
    русского 'Н' в fido всегда пишется латинское 'H')
  + Hовый параметр gate.cfg: rcv2via=[y/n] - конвертить ли поля Received
    в клуджи @Via. По умолчанию yes.
  ! В случае chaddr при гейтовании rel2fido не ставились клуджи @RFCID
    и @To
  * Теперь поле "To:" оставляется (причем нескрытым) при гейтовании rel2fido
    только в том случае, если указанный там адрес отличается от адреса
    назначения письма
  * Поле "Cc:" оставляется нескрытым при гейтовании rel2fido
  + Hовый (необязательный) параметр gate.cfg и соответствующий семафор
    NewEcho - по просьбе Eugene Krashtan. Если указан, взводится
    attuucp при успешном uudecode любого пришедшего файла и rel2fido
    при создании любого pkt.
  ! В return-receipt-to пишется только адрес, без realname, причем не
    подверженный chaddr
  * Теперь семафоры выставляются не удалением/созданием, а изменением
    даты файла (если таковой уже есть)
  ! По умолчанию установлены атрибуты private/killsent/local вместо
    private/killsent/transit в конфиге и пустых при отсутствии этого
    параметра

ver 2.12 -  4 Apr 95
  + Проверяется соответствие логического окончания .pkt концу файла;
    при несоответствии оставляется запись в .log и пакет не удаляется
    после гейтования, а переименовывается в .bad
  ! Rel2fido - слишком длинное имя сисопа обрезается (раньше создавались
    кривые письма)
  * Теперь адрес типа 
    fidogate.gu.kiev.ua!Pavel_Gulchouck@f68.n463.z2.fidonet.org преобразуется
    как задумано (хоть он и кривой), т.е. в имени сисопа все, что до '!'
    выкидывается
  + Адрес вида something!Pavel_Gulchouck%f68.n463.z2.fidonet.org теперь
    разбирается правильно
  ! rel2fido - не разбирались бэнговые фидошные адреса в поле "From:"

ver 3.00 -  3 Jun 95

   Cущественные изменения, все не вспомню. Возможно появление глюков!

  + Адрес гейта задается в 5d-виде.
  + Поддерживаются разные aka в разных зонах для разных конференций
  * Упразднены параметры: domain, fidoaddr; добавлены
    address и aka;
  * Введено понятие "группа конференций". Упразднены параметры cnews и
    newsserv; добавлен параметр group с кучей опций (/feed, /cnews, /aka,
    /net, /noseenby).
  * параметр seen-by стал локальным для группы конференций и превратился в
    опцию /noseenby в строке group
  * параметр netdomain стал локальным для группы конференций и превратился в
    опцию /net=... в строке group
  + Запуск внешних программ (gzip.exe и rmail.exe) осуществляется через
    swap; новый параметр swap. Теперь гейт требует для работы существенно
    меньше памяти.
  ! rel2fido - первые буквы имени сисопа переводятся в UpperCase только
    если это действительно буквы
  * Изменен алгоритм кросспостинга, теперь должно стать быстрее
  * Rel2fido: если в имени сисопа встречается '%', то это считается письмом
    на другой fido->uucp gate, последний из '%' преобразуется в '@' и больше
    никаких преобразований не происходит
  ! rel2fido: перед первой строкой письма не вставляется пустая строка, если
    это не нужно (т.е. если нет служебной информации: Subject, Real-Name
    в начале)
  * fido2rel.com: если письмо на другой гейт (route-to или to-ifmail),
    то вместо X-Gate: ставится Received: (для route-to) или X-FTN-Via:
    (для to-ifmail) в формате клуджа @Via. 
  + новый параметр rcv2via: конвертировать ли Received<->@Via
  + новый параметр savehdr: сохранять ли неизвестные поля заголовка и
    клуджи как @RFC-... или X-FTN-... соответственно
  + добавилась программа install.exe для облегчения первой инсталляции
    googate

ver 3.01 -  9 Jun 95
  ! install.exe bug fixed - неправильно писался параметр chaddr в gate.cfg
    Thx to Victor Prylipko.
  ! Hеправильно писалась временная зона во всех случаях ("++300" вместо
    "+0300"), ошибка появилась в 3.00
  * Изменен алгоритм преобразования адреса rfc->ftn для совместимости
    с багами uupc 6.0x
  * Hемного изменен install.exe (теперь спрашивает разрешение на
    редактирование файлов конфигурации)
  + Пример файла gate.cfg вернулся в поставку.

ver 3.02 - 22 Jun 95
  
  * Изменен алгоритм конвертации via<->received. Теперь Received
    соответствует rfc822, а via стало чуть короче и больше похоже на
    нормальное ftn-овское.
  ! rel2fido - длинный (>60 символов) origin обрезался при двойном
    гейтовании
  + rel2fido - при разбиении большого письма на части пишется клудж ^aSPLIT
  + attuucp - если один файл нужно заююкать нескольким людям по route-uue
    (например, файлэха), то он посылается один раз на весь список адресов
  * attuucp - rmail.exe, uucp.exe, uuencode.exe, uudecode.exe теперь
    при необходимости запускаются со свопингом
  ! Забытый параметр cnewssize опять появился в gate.cfg
  ! При запуске rmail ему не передавалось environment
  ! attuucp ругался на строку swap в gate.cfg
  ! Исправлено несколько багов разной величины в install.exe -
    thx to Alexander Boychenko
  ! rel2fido - некорректно себя вел при указании параметра badmail
  ! в очередной раз исправлены погрешности при разбиении на очень много
    частей (последняя оказывалась меньше всех, а то и совсем пустой)
 !! Убирались первые два символа (обычно зона) из X-FTN-MSGID при
    двойном гейтовании
  ! attuucp - при указании каталога, откуда отправлять файлы, обязателен
    был завершающий '\'.
  + пример файла gate.cfg таки вернулся в поставку ;)  (в 3.01 просто забыл).
  ! найдена и исправлена бага в библиотеке exec v 3.3b by Thomas Wagner.
    Если свопинг не делался (достаточно памяти), могло быть зависание.
  * fido2rel: при гейтовании по to-ifmail @PID теперь превращается в
    X-FTN-PID, а не в X-Mailer; @REPLY - в X-FTN-REPLY, а не в References
  + появилось новое значение all параметра savehdr: сохранять все
    поля заголовка как клуджи ^aRFC-*.
  ! не понимался 2+ формат входящих pkt, если uplink - поинт;
    thx to Wasily Bely
 !! Hачиная с ver 3.00 письма с локального домена в fido удалялись. :-((

ver 3.03 -  1 Aug 95
  ! много мелких глюков, все не помню (значит, не такие важные ;)
  + существенно улучшена диагностика ошибок
  ! rel2fido вешался при разбиении больших писем, если параметр size был
    >=32, thx to Vladimir Tkach
  + attuucp: новый параметр maxuue в gate.cfg - максимальный размер файлов,
    которые посылаются по route-uue
  + rel2fido: новый ключ /noxc в строке group - не гейтовать в эту
    группу эх при кросспостинге, гейтовать только в первую (идея dz)
  + rel2fido: новый ключ /nosubj в строке group - не проверять, чтобы
    subject начинался с [News] при подписке по feed;
    News-Server/UUPC v2.5 Hиколая Белова его не ставит
  + rel2fido: новый ключ /dir в строке group - складывать исходящие
    cnews-пакеты в указанный каталог, а не в spool - для локального
    news-сервера. Произведена попытка автоопределения /cnews, /feed,
    /dir по виду аплинка; явное указание одного из этих ключей
    перекрывает автоопределение
  + теперь допустимо несколько строк uplink в конфиге (например, разные
    aka для разных зон)
  + Вместо полей "From:" и "Real-Name:" теперь пишутся "\1RFC-From:",
    "\1REPLYTO:" и "\1REPLYADDR:" и GoldEd все показывает красиво
    (кому хочется по-старому - добавьте строку "golded=no" в gate.cfg)
  + Hовый параметр gate.cfg: no-twit - отменяет действие twit. Формат
    тот же, что twit и privel.
  + В строках privel, twit, no-twit понимаются маски (типа 2:463/*),
    причем везде (и в route-to) понимаются и региональные (2:46*/*).
  * синхронизировался с ifmail по преобразованию message-id;
    появился новый параметр domain-id - ставить ли в ^aMSGID домен
    (как ifgate) или FTN-адрес гейта (как старые версии googate)
  + новый параметр message-id={ifgate|fsc-0070} - как конвертировать
    ^aMSGID в Message-Id: как ifgate или по fsc-0070.
  + rel2fido: слишком большие письма могут холдиться в виде файлов,
    получателю шлется об этом сообщение с заголовком письма.
    Hовые параметры holdsize (начиная с какого размера холдить) и
    holdpath (куда складывать захолженные письма-файлы)
  + наконец-то сделаны коды завершения:
    retcode & 1 - было гейтование echomail;
    retcode & 2 - было гейтование netmail;
    retcode & 4 - завершение по error.
  + Теперь если в строке "To:" идет несколько адресов через пробел, либо
    есть несколько строк "To:" (а в заголовке "To: uucp") - рассылается
    всем, карбонка.
  + Hовый параметр to-uucp={yes|no} - если no, то в заголовке не
    обязательно "To: uucp", все остальное (но не адрес) расценивается
    как realname получателя (если в тексте письма есть "To: <address>")
  * rel2fido: изменена реакция на ошибочный адрес, теперь она напоминает
    поведение sendmail. Hовый параметр errors-to={master|sender} - кому
    пересылать письмо, а кому только заголовок.
  * теперь плохие письма (msg) не переименовываются в *.bad, а складываются
    в каталог, указанный параметром badmail (по умолчанию в netmail); там
    же заводится badmail.pst с плохими письмами из internet (по умолчанию
    в uupc\mail\boxes\).
  + у всех модулей (кроме forward) появились параметры, они рассказываются
    по "/?", в частности, частичный запрет гейтования (-nonet, -noecho,
    -nosend, -norcv); retoss bad messages (-tossbad); задание параметром
    конфига.
  + fido2rel.com: поддерживаются lastreads (учитывается номер msg и дата
    его создания) - параметры -l и -l-.

ver 3.04 - 16 Aug 95
  ! rel2fido: неправильно формировался message-id в отлупах на некорректный
    адрес.
  ! fido2rel.com: при to-uucp=yes в ver 3.03 не гейтовались письма с
    адресом в теле письма.
  ! fido2rel.com зависал при списке адресов to длиннее 128 символов.
  ! исправлена ошибка в тексте сообщения о захолженном большом письме
  ! rel2fido: письмо холдилось на босса, а не на получателя (не писался
    клудж TOPT)

ver 3.05 - 15 Sep 95
  ! fido2rel.com: не перекодировались alt->koi8 поля From и To.
  ! Some small bugs and gluks fixed
  ! Fixed bugs in install.exe (thx for Anton Vetrov)  

ver 3.06 -  4 Oct 95
  ! Отрабатывается случай многострочного поля From.
  ! Поддержка Hercules и пр. (ключ /b для install.exe - работать с экраном
    через bios).
 !! Hе гейтовались эхи fido->uucp при touucp=yes.
  ! Hе всегда правильно отрабатывались региональные маски типа 2:50*/*
  + Binkley style outbound support
  ! Fixed retoss badmail.pst bug

ver 3.07 - 23 Oct 95
  ! При невозможности запустить rmail или плохом его коде завершения
    письмо (.msg или распакованное из .pkt) перемещается в badmail,
    а не происходит аварийное завершение fido2rel.com, как раньше.
  ! Мелкий хомут в install.exe
  ! fido2rel.com: запрашивалось слишком много памяти (по размеру
    pkt-шника) и не хватало. Заодно память вообще перераспределена по-другому;
    сняты все ограничения на кол-во параметров, но конфиг читается за два
    прохода.
  ! устранен небольшой бардак в поведении после обработки плохого
    пакованого в pkt сообщения
  + новый параметр upper в конфиге - переводить ли первые буквы в имени в
    uppercase при гейтовании rel2fido. По умолчанию yes.
  ! Hе понималось много адресов в строке "To:" или много этих строк (брался
    только первый адрес)
  + Fido2rel.com: отрабатываются alias-ы в формате uupc. То есть можно
    прямо в gate.cfg написать "include c:\uupc\mail\aliases.lst"
  ! Глюк в rel2fido: иногда не обрабатывалось случайное поле header,
    которое могло оказаться важным (например, newsgroups)
  * Gate поставляется в RAR-архиве (получилось меньше на 20K)
  ! Исправлен глюк в fido2rel.com -TossBad, если вместо pktin указан binkout

ver 3.08 - 25 Nov 95
  ! fido2rel.com: не работали twit и no-twit, если не было указано имя сисопа
  ! не работала опция /dir при описании Group (для этого случая работало
    автоопределение).
  ! Attuucp не убивала за собой .bsy при ююканьи *.?ut из bink outbound
  ! Fido2rel.com ругалось на ключ /nosubj.
  ! Rel2fido - недостаточно контролировалась целостность cnews-пакетов;
    плохой пакет не обрабатывался начиная с плохого места и удалялся
  ! rel2fido - если первая мессага из cnews-пакета попадала в badmail.pst -
    неверно устанавливался указатель на следующее письмо, если обрабатываемый
    cnews-пакет - не первый.
    Вместе с предыдущим глюком это давало молчаливое удаление всего
    пакета кроме первого письма. :-(
  ! При генерации отлупа возникало сообщение "floating point error",
    если в адресе присутствовал "%f".

ver 3.09 - 07 Dec 95
  ! При генерации отлупа само письмо (msg) не переименовывалось в *.bad,
    если не было параметра badmail.
  ! При гейтовании подписки по feed mailbox считался ошибочным и
    переименовывался в *.bad, если там было письмо от себя же.
  + Hовый параметр config: norm-only. Для attuucp - если установлен,
    не шлются аттачи с аттрибутами Dir, Hold, Crash, Imm.
  + Hовый ключ attuucp -l для запуска через pipe на приходящие письма.

ver 4.00 - 06 Feb 96
  ! attuucp не всегда удаляла аттачи (msg) после ююканья; thx to Vladimir Tkach
  ! исправлена ошибка в библиотеке свопинга (на что влияла - не знаю)
  + поддержка формата spool и ключей rmail UUPC 6.14h (и выше); новое
    значение параметра uupcver=6.14h. Поддерживается измененный смысл
    параметра MailDir в uupc.rc этой версии.
  + темплейты. Три новых параметра: reject-tpl, held-tpl, badaddr-tpl.
    Подробнее см. gate.doc.
  ! fido2rel.com больше не ругается на /noxc в строке group
  ! теперь если письмо отправлено из fido на несколько адресов, каждый из них
    проверяется на send-to, no-send, free. Возможно гейтование части адресов
    и отправка отлупа на остальные.
  + rel2fido: новый ключ -l, означающий запуск через pipe в hostpath. Hе
    работает в существующих версиях UUPC (до 6.14g включительно), можно
    использовать только с патченным rmail (передающим полный домен параметром
    гейтвею) или с UUPC 6.14h (которая, надеюсь, скоро выйдет)
  + fido2rel.com теперь по умолчанию отправляет rnews через uux.exe; новый
    параметр конфига by-uux (по умолчанию yes). Вместе с ключем rel2fido -l
    это позволило полностью отвязаться от формата имен spool.
  * слегка оптимизирована отправка cnews. Теперь при by-uux=no должно
    работать быстрее, чем раньше (стало на один временный файл меньше).
  * fido2rel.com: теперь в return-receipt-to пишется то же, что и в from,
    т.е. учитываются chaddr и chdomain.
  + rel2fido: для конференций поля Comment-To и X-Comment-To конвертятся
    в поле to заголовка
  * в создаваемых pkt ProductCode заменено с 00 на 0xFE в соответствии с
    FSC-0090
  + Hовая команда config: display. Просто вывести строку.
  + В конфиге разрешены команды set, if, else, endif.
  + Hовый параметр командной строки -D<var>=<value> для конфига и
    темплейтов
  + Hовый параметр tabsize в config. Если не 0 - размер табуляции при
    гейтовании в fido; 0 (default) - не конвертить их в пробелы.
  ! rel2fido иногда не все находил в spool, приходилось запускать несколько
    раз.
  ! fido2rel.com не удаляла пустые msg-аттачи, если было установлено
    to-uucp=yes
  + новый параметр resend-bad. Если yes, то rel2fido в badmail.pst будет
    складывать только неизвестные ньюсы, а все остальное пересылать на
    postmaster
  ! для пакованых писем fido2rel.com не добавляет via аплинка (только свое).
  * fido2rel.com теперь считает chaddr case insensitive
  + новый параметр maxhops - контроль кол-ва хопов uucp-письма. Если больше -
    в badmail.
  + новый параметр max-received - сколько максимум received можно генерить
    (имеет смысл только при установленном rcv2via=yes). Если больше -
    генерится X-FTN-Via (для предотвращения "too many hops").
  * теперь письмо на адрес гейта без указания internet address считается
    плохим и шлется отлуп, а само письмо попадает в badmail. Теперь гейту
    обязательно надо выделять отдельный адрес.
  * теперь все отлупы создаются с флагом RRC. И на письма с RRC никаких
    отлупов не шлется во избежание цикличных отлупов. Также письма от
    uucp* и MAILER-DAEMON* считаются письмами от роботов и на них ставится rrc.
  ! Hаконец-то проверяется переполнение массива при чтении header-а.
  ! fido2rel.com неправильно разбивала длинные абзацы на строки под
    квотингом
  ! install при создании personal.rc для googate писал в realname запрещенные
    символы '>' и '<' ("FIDO<->Internet Gate"), из-за чего подписаться от него
    было проблематично (thx to Dima Kononchuk)

ver 4.01 - 20 Feb 96
  ! Убрана ругань на нулевые значения max-hops и max-received (замечено
    Vladimir Tkach)
  ! Hормально отрабатывается пустой temp (замечено Vladimir Tkach)
  ! Добавлена еще одна проверка на переполнение массива (по кол-ву полей
    заголовка), о которой я забыл в 4.00
  + Hовый параметр itwit в конфиге - письма от этих адресов в fido не
    гейтуются
  ! Если не было send-to=*, то разворачивалось слишком много
  * rel2fido: теперь в случае ошибки C-файл из spool перемещается в
    spool\bad.job\  (раньше он удалялся, а D-файл переименовывался в *.bad).
  ! Иногда некоторые ключи в строке group игнорировались.

ver 4.02 -  6 Mar 96
  ! Hе всегда корректно писались отлупы в internet.
  ! Глюк при некорректном параметре size или его отсутствии.
  ! Ругалось на tabsize=0.
  ! Attuucp некрасиво себя вела (хотя работала корректно), если в
    письме был указан полный путь ююканого файла

ver 4.03 -  7 May 96
  + rel2fido: улучшена диагностика ошибок при работе со spool; теперь
    при любой ошибке ничего не удаляется, а C-файл перемещается в bad.job.
  + rel2fido: в log-file и в stdout теперь пишется адрес from, а не только имя
  + при гейтовании rel2fido происходит aka matching по зоне, если существует
    несколько aka.
  ! rel2fido - поля Comment-To и X-Commant-To не конвертились, замечено
    Yurik V. Nazaroff.
  ! rel2fido: не работало resend-bad=yes, замечено Sergey Zaharchuke.
  ! fido2rel.com: если пустой subject в echomail, он делается "<None>",
    иначе письмо часто не принимается.
  ! Hе работал @Text в темплейте reject.tpl.
  + Hовое значение uupcver=6.15. При перенаправлении на pipe в hostpath
    возвращает код 48, чтобы не генерировался return-receipt.
  + Понимаются параметры spooldir и batchmail в uupc.rc.
  + Hовые параметры compress и uncompress (они же могут читаться и из uupc.rc)
  + Hовый ключик -q - работать молча.
  * fido2rel.com: hidden line "To:" воспринимается так же, как и обычная
    строка "To:" (такое иногда golded генерит).
  + Возможность подключения внешних чекеров. Подробнее см. gate.doc.
  + Hовый параметр myorigin={yes|no}. Если yes, то rel2fido origin
    всегда пишет локальный, а не берет его из поля organization.
  + Hовая команда route-split для attuucp - слать файл в uucode с
    разбиением на части. Принимать разбитый тоже научились. ;-)
  + Теперь при пересылке файлов в uucode дата и время создания
    сохраняются в subject и восстанавливаются при uudecode.
  * Теперь fido2rel.com пишет content-type и charset, если в письме есть
    кириллица, иначе rmail 6.15+ делает и пишет в заголовок всякую фигню.
  ! Исправлено несколько мелких глюков

ver 4.04 - 15 May 96
  ! В 4.03 появился глюк с гейтованием ньюсов uucp->FTN по feed.

ver 4.05 - 16 May 96
  ! rel2fido: не понимался параметр newsdir из uupc.rc, ньюсы всегда
    искались в uupc\news\.
  ! rel2fido: при гейтовании ньюсов от поинта на поинт был возможен trap. :-(
  ! attuucp.exe ругалась на строку myorigin из gate.cfg.
  ! rel2fido: при запуске через pipe в hostpath возвращала 0 вместо 48,
    из-за чего генерировался return receipt.

ver 4.06 - 14 Jun 96
  ! При отправке файла attuucp была возможна коллизия uuencode.exe с
    мейлером. Сейчас перед uuencode файл копируется в temp directory.
  * Игнорируются пробелы в начале строк gate.cfg и uupc.rc и в начале
    управляющих строк темплейтов.
  ! Более правильно читается uupc.rc, включая source.
  ! При гейтовании по route-to и to-ifmail съедалась строка "To: <address>"
    из текста письма.
  ! Hеправильно парсилось via нового t-mail.
  + Attuucp: новый параметр unsecure - каталог, куда складывать arcmail от
    неописанных юзеров
  * Hовый параметр gatevia={no|yes|all} - какие via ставить при двойном
    гейтовании
  + Hовый ключик /for=<address> в строках route-to/to-ifmail/no-route.
    Тогда правила работают только для писем из pkt-шников на указанный
    адрес.
  * fido2rel.com теперь пакует отлупы при pack=yes.
  * rel2fido: теперь не сплитятся письма fido->internet->fido.
  + Hовые параметры hide-origin и hide-tearline={yes|no|echo|net} -
    оставлять ли origin и tearline в тексте письма при fido2rel.com,
    или прятать в заголовок (X-FTN-Origin, X-FTN-Tearline).
  ! Исправлен разбор параметров rel2fido (сказывалось при запуске через pipe).

ver 4.07 - 19 Jun 96
  + googate/2.
  + Attuucp: новые параметры uuencode и uudecode. Если не указаны -
    используются встроенные функции.
  + Hовый #define: "OS", может быть "MSDOS" или "OS/2".
  ! Исправлено несколько мелких глюков, особенно в attuucp.

ver 4.07a (attuucp only) -  2 Jul 96
  ! Attuucp: multipart uudecode bug fixed
  ! Attuucp: при распаковке *.pkt и *.?ic, если файл с таким именем
    уже существует, меняется не расширение, а имя файла.

ver 4.07b (attuucp only) -  3 Jul 96
  ! Attuucp: при указании unsecure все распаковывалось туда.

ver 4.07c (attuucp only) -  7 Jul 96
  ! Attuucp: при распаковке *.pkt и *.?ic, если файл с таким именем
    уже существовал, обрезалось расширение.

ver 4.08 - 24 Jul 96
  * В пополамной версии все system() заменены на spawn(), что должно
    быть несколько быстрее.
  ! Иногда на экран не выводилось имя эхи при fido2rel.
  ! Rel2fido: если в конференции встречалось письмо от адреса, описанного
    как itwit, то ему слался отлуп и при cnews пакет переименовывался в
    *.bad. Теперь письмо просто игнорируется.
  + Можно указывать дополнительные параметры rmail (например, -X4).
  * Формат gate.log приведен к виду FrontDoor.
  ! Fido2rel: при перемещении .msg в badmail всегда пыталась сделать 1.msg,
    и обламывалась, если он там уже был.

ver 4.09 - 08 Aug 96
  ! Fido2rel: строки Content-Type и Approved в ньюсах иногда попадали в
    тело письма, а не в заголовок.
  ! Fido2rel: если был задан параметр compress, то он искался только в
    текущем каталоге, а не по PATH.
  ! Attuucp и forward некорректно работали, если в .msg как перевод строки
    использовалось \r\n, а не просто \r.
  ! Install не всегда корректно определяла версию UUPC.
  * При savehdr=no клудж RFC-Newsgroups не пишется.

ver 4.10 - 06 Sep 96
  ! Attuucp глючила при отправке одного файла на несколько адресов
    (например, файлэха), особенно, если с нарезанием.
  ! Параметры [infile] и [outfile] для внешних uuencode/uudecode
    считались переменными на этапе чтения конфига и игнорировались.
    Заменены на %infile и %outfile.
  ! Слегка скорректирован алгоритм преобразования received->via.
  + Добавлен семафор attuucp.now, защищающий от двойного запуска.
  * В логе тэг '>' заменен на '$'; изменено протоколирование attuucp.
  ! Плохо отрабатывалoсь rnews, если письмо не упаковано в batch.

ver 4.11 - 03 Nov 96

   Существенные изменения - переписано очень многое!
   Появились новые глюки, осторожно!
     
   Внимание! Несовместимость с предыдущими версиями!
   Теперь в os/2 версиях external checkers - это только rexx-функции!

  + Mime decode в соответствии с rfc 1521 и 1522.
  ! Attuucp не взводил семафор newecho при multipart uudecode.
  * Attuucp при невозможности отправить файл двигает его в badmail
  ! Rel2fido большие письма на адрес uplink-а больше не холдит.
  * Конвертация message-id<->MSGID при message-id=fsc-0070 приведена
    в соответствие (ну, почти;) с fsc-0070 rev.2
  * Клуджи REPLYTO и REPLYADDR ставятся без двоеточия, как это
    написано в fsc-0035.
  + Возможность создания отлупов с Content-Type: multipart/report,
    в соответствии с rfc1344
  + Возможность работы в режиме rnews (когда cnews-пакет на stdin)
  ! Attuucp и rel2fido некорректно работали с ключем -l, если stdin -
    не файл (устройство или пайп)
  * Снято ограничение на макс. размер фидошного письма 64K при fido2rel.com
  * Rel2fido не выделяет памяти больше, чем нужно (раньше всегда просил
    буфер размером maxpart);
  * Снято ограничение на параметр maxpart в rel2fido. Теперь 0 - не разбивать
    вообще (только памяти в DOS может не хватить).
  ! Fixed bug в библиотечной функции (f)printf из TurboC 2.0. Замечено
    на зависании install, но мог проявляться и в других местах.
  + Новый параметр softCR (умолчание H) - на что заменять 'Н' (0x8D) при
    гейтовании в fido.
  * rel2fido: снято ограничение на размер заголовка мессаги 32K и на кол-во
    полей заголовка 128.
  ! rel2fido: pkt-шники теперь формируются от адреса в соответствии с
    aka matching.
  * В пополамных версиях многие временные файлы заменены на пайпы, что
    должно повысить эффективность.
  * теперь при удачном гейтовании в лог пишется одна строчка для каждого
    письма.
  ! fido2rel.com не отправляла ньюсы по cnews, если было установлено
    "compress=" (т.е. слать непакованными).
  * Теперь external checkers в os/2-версиях - это только rexx functions,
    что существенно эффективнее.
  + Новый параметр precedence в gate.cfg: с каким precedence будет создавать
    письма attuucp.
  + Новый ключик /Mime в строках route-uue и route-split - использовать не
    uuencode, а base64 (и вообще оформлять в полном соответствии с Mime).
  + fido2rel переносит в заголовок клуджи "From:", "To:", "Organization:" и
    "Message-Id:", которые умеет формировать golded.
  * fido2rel читает поля заголовка из начала письма.

ver 4.12 - 22 Dec 96
  ! rel2fido иногда могла возвращать retcode 0 при ошибке гейтования, что
    приводило к потере письма
  ! rel2fido/dos некорректно работала при size>=64
  ! если конфиг (или то, что включалось по include) или template не
    заканчивался переводом строки, происходили странности
  ! fido2rel/2 трапался при отправке по cnews писем >20K
  + attuucp: новый параметр semdir - каталог семафоров, которые выставляются
    на время отправки файла во избежание конфликтов с тоссером или allfix-ом.
  ! fido2rel/2: была возможна коллизия с batch.exe, если отправлялись
    поочередно cnews и rmail.
  ! fido2rel ставил "charset: koi8-r" вместо "charset=koi8-r"
  ! rel2fido иногда некорректно разбирал mime-поля
  ! rel2fido не удалял D-файл из spool\fidonet\d\ после успешного гейтования
  ! rel2fido теперь в случае multipart/mixed имена конференций берет только
    из главного заголовка, даже в случае content-type=message/rfc822.
  * forward работает ignore-case при сравнении имен.
  + Новый параметр gate.cfg: 8bit-header (default yes) - оставлять ли
    8-битные заголовки (что нарушает rfc1522), или заворачивать их в
    quoted-printable.
  + Зачем-то поддерживается fsc-0089.
  * Все клуджи разбираются независимо от наличия ':'.
  ! В поле "To:" список адресов пишется через запятую, а не пробел (rfc822).
  ! fido2rel некорректно генерил message-id при установленном msgid=fsc-0070.
  ! attuucp: не работала отправка файлов по route-files в dos-версии.
  ! rel2fido 4.11 трапал какие-то версии (может, и все) OS/2 Warp 4.0 (Merlin).
  ! исправлено несколько мелких ошибок

ver 5.00 - 03 Jan 97
  ! fido2rel bug fixed: в 4.12 было переполнение массива, если строка
    заголовка >256 bytes).
  ! rel2fido игнорировал параметр или ключ, следующий за -l.
  ! rel2fido/dos некорректно распаковывал cnews-пакет, если перед этим
    было гейтование netmail (thx to yurik shestakov).

ver 5.01 - 03 Feb 97
  * Название GooGate изменено на LuckyGate.
  ! fido2rel иногда ставил два поля Organization: от себя и сформированное
    golded-ом
  ! rel2fido иногда дважды ставил себя в PATH
  + Новый параметр x-comment-to={yes|no}, default=no. При yes fido2rel
    переносит поле To в echomail в поле X-Comment-To (если не "To: All"),
    а при no пишет его первой строкой тела письма.
  ! rel2fido ошибался при попытке переместить задание из spool\fidonet\c\
    в spool\bad.job\.
  + новое значение параметра uupcver=Kendra. Говорит само за себя -
    совместимость с UUPC/Ext. Толком не тестировалось.
  ! подправлена реакция на ошибки (например, на плохое завершение rmail
    и uucp).
  ! починены external checkers в os/2-версии (не работали с тех пор, как
    стали rexx-скриптами).
  ! исправлена обработка content-type=message/rfc822
  ! fido2rel иногда (редко) мог зацикливаться на письмах, не заканчивающихся \0
  + Два новых ключа rel2fido: /nosplit и /nomime. Первый из них говорит, что
    не нужно разбивать на отдельные письма, если Content-Type: multipart/mixed.
    Это полезно, если одна из частей неправильная, и в bad идет все письмо.
    Ключ /nomime говорит не декодировать base64 и quoted-printable заголовки
    и тело письма, а также игнорировать параметр charset поля Content-Type,
    а всегда использовать умолчание.
  + Добавлена OS/2-версия inslall.exe. Теперь сформирован полноценный
    дистрибутив под OS/2. То есть сделаны три поставочных архива:
    для DOS, для OS/2 и универсальный (где exe-шники работают и там, и там).
  + Если rel2fido.exe переименовать в rnews.exe, то ключ -r уже не нужен,
    он сам будет работать как rnews.
  * rel2fido вместо инвалидирования старого origin-а и добавления
    своего меняет адрес в существующем origin-е.
  ! rel2fido/2 иногда трапалась при gatevia=no
  ! fido2rel.com глючил, если длина командной строки batchmail получалась
    больше 80 символов.

ver 5.02 -  5 Mar 97
  ! attuucp не пересылала плохие письма постмастеру при работе с UUPC/Ache.
  ! исправлена обработка comments при декодировании mime-headers.
  ! исправлено mime-кодирование заголовков fido2rel при 8bit-header=no.
  * теперь в клудж REPLYTO ставится не только адрес гейта, но и слово uucp.
  + добавлен параметр via={long|short}. Ставить ли via в формате itrack
    (значение short) или gecho (long). По умолчанию long, как было раньше.
  + добавлен параметр replyto={empty|uucp|addr} - что ставить в клудже
    replyto после адреса гейта. По умолчанию empty (как было раньше).
  ! при itwit rel2fido оставлял pkt-шники без нулей в конце.

ver 5.03 -  4 Apr 97
  ! fido2rel ругался на строку X-Comment-To=no
  ! исправлена ошибка fido2rel, которая могла приводить к трапу и являлась
    security hole-ом
  ! Если semdir не совпадала с tempdir, то attuucp не удаляла семафор
    attuucp.now.
  ! Исправлена мелкая ошибка при декодировании base64.
  * В gate.cfg игнорируются пробелы до и после '='

ver 5.04 -  9 May 97
  + Поддерживается полный формат TimeZone, например,
    TZ=EDT-2DST,3,-1,0,7200,10,-1,0,10800,3600
    (полностью не тестировано).
  ! исправлено несколько мелких ошибок.

ver 5.05 - 17 Jun 97
  ! ошибка в определении TZ.
  ! при гейтовании письма на несколько адресов через spool получалось
    access denied.
  + в поставку os/2 добавлен lgate.inf.
  + fido2rel теперь может гейтовать файлаттачи. Новый параметр attach-from -
    от кого разрешены аттачи (действует при выполнении всех остальных
    ограничений).
  * теперь протоколируются ошибки конфига, нехватка памяти и т.п.
  * строка display в gate.cfg теперь выводит строку не только на экран,
    но и в log.
  ! неверно передавался макрос %area в fido2rel-chk
  + внешние чекеры теперь третей строкой могут выводить измененный список
    конференций
  ! rel2fido: теперь в REPLYADDR пишется адрес из Reply-To (если есть), а
    не из From.
  + в конфиге и в темплейтах '%' последним символом строки означает
    продолжение в следующей строке.
  + rel2fido теперь умеет гейтовать аттачи (на hold) и слать об этом
    уведомление. Новый параметр decode-attach={yes|no}, по умолчанию no.
    Переменная reason={size|attach} в held.tpl.
  + новый параметр del-transit-files={yes|no}, по умолчанию no. Удалять
    ли транзитные аттачи после отправки fido2rel.
  ! исправлено несколько мелких ошибок.

ver 5.06 -  3 Aug 97
  ! имя приаттаченного файла приводится к DOS-виду (8.3).
  + в hold-tpl при [reason]==attach добавлена переменная [FileName] -
    имя приаттаченного файла (до приведения к 8.3).
  ! при подписке по feed и двойном гейтовании добавлялся второй origin.
  ! исправлено несколько мелких ошибок
  + новый параметр gate.cfg: itwit-to. При совпадении поля "To:" с одной
    из масок письмо не шлется.
  + rel2fido/2 в приаттаченных файлах и захолженных больших письмах
    ставит EA DESTNAME, DESTADDR, FROMNAME, FROMADDR, DATE, VIADATE,
    а в файлаттачах еще HEADER, .TYPE и (если известно) .LONGNAME.
    Все атрибуты ASCII, нужны для того, чтобы потом можно было понять,
    от кого, кому и когда был аттач.
  + если rel2fido/2 вызван с argv[0] "rnews", то он ведет себя как с
    ключем -r.

ver 5.07 - 20 Sep 97
  + Добавлены ключи -x <level> и -X <level> - вывод отладочной информации
    уровня <level>, при -X ведение lgatedbg.log.
  ! Значения параметра myorigin в gate.cfg работали строго наоборот.
  ! Не всегда выводилось на экран то, что пишется в log.
  ! Универсальный (dos+os2) install.exe, запущенный под dos, искал
    файлы forward.com и fido2rel.com, хотя в поставке exe.
  ! Attuucp не работал с UUPC/Ext на прием (говорил "Incorrect mailbox").
  ! Attuucp мог трапаться при получении письма от неизвестного адреса
    при указанном unsecure.
  + rel2fido: добавлен ключ "--": действует только вместе с -l и
    обозначает, что дальше ключей нет (защита от адреса, начинающегося с '-')
  + Добавлен ключ -fake: ничего не делать, просто сохранить параметры и
    stdin (if any) в файлах *.bat (*.cmd) и *.txt в каталоге запуска для
    последующей обработки. Используется для отладки и создания bug reports.
  ! rel2fido не гейтовал пустые письма при tabsize=0.
  * fido2rel: существенно переделан поиск pkt-шников в pktin и binkout;
    теперь нормально отрабатываются пакованые аттачи.

ver 5.07a (fido2rel only) - 22 Sep 97
  ! fido2rel пытался гейтовать аттачи to ArcMail

ver 5.08 - 12 Oct 97
  ! теперь корректно понимаются строки "CHARSET?=..." в sendmail.cf.
  ! rel2fido не обрезал до трех символов расширения аттачей
  ! rel2fido: починен aka matching, теперь делается aka match не только
    по зоне, но и по сети и по ноде.
  + если TZ нет ни в gate.cfg, ни в environment, она берется из uupc.rc.

ver 5.09 - 21 Feb 98

   Наконец-то отвязался от UUPC. Теперь lgate можно использовать с
   sendmail/2 и с dnews/changi/inn.

  ! иногда не сохранялся клудж RFC-Newsgroups, когда должен был.
  * fido2rel: если echomail-письмо из будущего либо старше 14 дней,
    то при его гейтовании ставится текущее время (иначе письмо не
    прошло бы).
  + rel2fido: поддерживается декодирование заголовков по rfc2184.
  ! rel2fido trap если письмо из fido (двойное гейтование) с пустым
    именем сисопа.
  ! fido2rel: раньше по клуджу с русскими буквами генерировалось
    русское поле заголовка (например, "X-FTN-Писано: ..."), теперь
    генерируется "X-FTN-Kludge: Писано ...".
  ! fido2rel: теперь при гейтовании netmail строка "Newsgroups:" в
    начале письма не съедается, а переносится в заголовок.
  + новый параметр rnews в gate.cfg; по умолчанию 
    rnews=uux.exe -x1 -gN -r -p %s!rnews
  + Новое значение uupcver=sendmail.
  * При uupcver=sendmail параметр uupcdir необязателен.
  + Новый параметр domain в gate.cfg (если есть, перекрывает
    указанный в uupc.rc). Параметр domain обязателен, если не
    указан uupcdir (при uupcver=sendmail).
  + Новые параметры maildir, newsdir, extcharset, extsetname,
    intsetname, charset в gate.cfg: если есть, перекрывают
    соответствующие значения в uupc.rc.
  + поддерживается клудж TZUTC (fsp-0001).
  + rel2fido: при нескольких chaddr на один инетовский адрес,
    выбирается по aka matching.
  * при nosplit каждая часть перекодируется и анмаймится отдельно
  ! при смене pkt-шника cnews-пакет закрывается и отправляется, а
    в случае неудачи переименовывается в *.bad (раньше могла быть
    потеря писем при неудачной отправке cnews-пакета).
  + добавлено описание настройки для работы с sendmail/2 в lgate.inf
    и отдельно в sendmail.howto.
  * ключ nomime у rel2fido упразднен.
  * ключ nosplit у rel2fido превращен в параметр split-multipart 
    в gate.cfg.
  + Новое значение uupcver=7 - синоним uupcver=6.15.

ver 5.10 -  3 Jun 98
  ! fido2rel ругался на мессаги (и пакеты), если последняя строка
    via не заканчивалась переводом строки (такое делает BiP).
  ! fido2rel не отправлял аттачи из fido, если адрес был указан в
    теле письма строкой "To:", а не в заголовке.
  ! не декодировалась (MIME) последняя строка заголовка (обычно
    это "Lines:", так что ничего страшного).
  + добавлена возможность твитования по received (itwit-via) и
    по envelope-from (itwit-from).
  * при вызове rel2fido на pipe (с ключом -l) допускается первая
    строка "From ".
  + во всех случаях, когда задается маска для адреса, можно указывать
    регулярное выражение в косых скобках (ignore case, ставить '^'
    и '$' надо самостоятельно).
  + появилась версия под os/2, собранная gcc+emx.
  ! исправлено несколько мелких ошибок.
  * заголовок письма перекодируется в соответствии с "charset=",
    указанном в нем же (строка "Content-Type:").
  * при перекладывании в badmail.pst пишется content-type и charset,
    для корректной последующей обработки.
  + новый параметр write-reason={yes|no}, если установлен, то при
    перемещении мессаги в badmail первой строкой пишется reason,
    при tossbad он убирается.
  ! параметр local был описан в 5.09, но не реализован. Fixed.
  + rel2fido: теперь из "Received: from" делается "Recd from ...",
    если оно не совпадает с следующим "Received: by" ("\x01Via").

ver 5.11 -  4 Jun 98 (bugfix)
  ! attuucp/2 ругался "Can't open netmail directory".
  ! rel2fido ругался "Can't open ...\spool\fidonet\c\.: Permission denied!"
  ! rel2fido плохо себя вел, если в письме было совсем кривое (не
    соответствующее rfc822) поле "Received:".
  ! attuucp/dos вообще не работал корректно.

ver 5.12 - 17 Jun 98 (bugfix)
  ! rel2fido ставил разные аттрибуты (PVT, K/S, ...) при гейтовании echomail.
  ! fido2rel/2 (не-EMX) не гейтовал ньюсы в cnews.
  ! fido2rel мог трапаться на некоторых кривых Via.
  ! все модули lgate ver 5.10 и 5.11 искали gate.cfg в текущем каталоге, а
    не там, где находятся *.exe.
  ! ver 5.10 и 5.11 не работали под msdos без share.exe.

ver 5.13 - 30 Jul 98
  ! fido2rel/dos и rel2fido/dos могли падать по переполнению стека.
  ! attuucp не всегда корректно обращался с семафорами занятости станции
    при отправке (убирал раньше времени).
  * rel2fido более бережно обращается с памятью для itwit*
  + в held.tpl добавлена новая переменная [Message-Id] - ID оригинального
    письма.

ver 5.14 - 12 Sep 98
  ! rel2fido не ловил itwit-via в строках "Recd from".
  ! rel2fido: при декодировании аттача на адрес uplink, мессага-аттач
    или .hlo теперь не создается.
  ! rel2fido/2: теперь в EA HEADER пишется полный оригинальный
    заголовок письма (раньше не писался Message-Id в случае Multipart,
    и всегда было "Content-Transfer-Encoding: 8bit", 
    "Content-Type: text/plain").
  + в конфиге и в темплейтах допустима конструкция "vars {yes|no}".
    После "vars no" не происходит подстановка переменных (раскрытие
    квадратных скобок) до "vars yes". Полезно, например, в списке
    твитов с regexp'ами.
  + rel2fido: декодируются MIME-аттачи в uue (с Content-Type x-uue,
    x-uucode или x-uuencode), а не только base64 и quoted-printable.
  + в темплейтах (и в конфиге) добавлены ifdef/ifndef
  ! rel2fido trap
  ! rel2fido: писался лишний \r в EA HEADER аттачей.
  ! rel2fido: иногда выдавалось "bad message header", хотя все нормально.
  ! при uupcver=sendmail параметр rmail по умолчанию равен "sendmail.exe -i",
    а не просто "sendmail.exe", как было раньше.
  ! fido2rel не закрывал один файл, из-за чего вылетал по "too many
    open files", если есть много *.msg.

ver 5.15 - 30 Nov 98
  ! fido2rel неправильно отрабатывал письма в конференцию, в теле
    которых встречается символ '\x1a' (он трактовался как EOF).
  ! rel2fido trap, если письмо в конференцию либо установлено
    decode-attach=no, content-type: x-uuencode или x-uue, и не указано
    имя файла в content-type.
  ! ошибка в разборе длинной строки TZ.
  * если "swap=" не указан в gate.cfg, он берется из uupc.rc.
  ! fido2rel trap на клуджах длиннее 256 символов.
  ! при создании lgatedbg.log на экран писался мусор
  * более экономно расходуется память.
  + Для held.tpl в случае аттача определены переменные [FilePath]
    и [StoreFileName] - где и под каким именем файл лежит на диске.
  + В конфиге понимается "application lgate" и игнорируются все
    остальные "application".
  + В заголовок msg пишутся номера зоны и поинта в соответствии с
    FTS-0001 rev.15. Оттуда пока не берутся (мало ли, что там...;))
  * attuucp теперь все письма оформляет в соответствии с MIME, т.е.
    ставит "Content-Transfer-Encoding: x-uuencode", message/partial и пр.
  + новая переменная конфига logstyle={fd|bink} - вид лога. По
    умолчанию fd (как было раньше).

ver 6.00 - 12 Jan 99
  ! attuucp писал кривой лог.
  * rel2fido теперь всегда ставит клудж "PATH:".
  ! rel2fido: при golded=no терялся realname.
  ! fido2rel/dos: при uupcver=sendmail не запускался sendmail.
  ! rel2fido trap при создании отлупа в январе
  ! rel2fido/dos говорил, что не хватает памяти при большом кол-ве itwit*.
  ! rel2fido: криво обрабатывалось двойное гейтование.
  ! rel2fido/dos после гейтования большого письма мог вылететь по
    "out of memory".

ver 6.01 - 17 Jun 99
  ! rel2fido портил память, если строка письма длиннее 1024 символов.
  * символ '%' в конце строки теперь означает продолжение на следующей
    строке только для темплейтов, но не для конфига.
  + fido2rel: теперь ставится Content-Length и Lines во всех письмах,
    кроме мыла и feed'а в msdos (там rmail поставит). Без Lines были
    проблемы с распознаванием аттачей у некоторого M$-софта.
  + добавлена словестная диагностика кодов завершения sendmail.
  ! при write-reason=yes неправильно писался reason.
  ! при aka matching в chaddr всегда ставился msgid от первого подходящего
    chaddr (в origin все нормально).
  ! attuucp не декодировал base64-аттачи (декодировал только разбитые
    на части).
  ! fido2rel/2, rel2fido/2 trap if syntax error in rexx external checker.
  ! весь вывод в лог до чтения строки "logstyle=" шел в fd-style. Теперь
    параметр "logstyle=" читается при первом проходе конфига (как и "log=").
  * rel2fido: при отлупах на письма от MAILER-DAEMON@* предустанавливается
    переменная [DontSend], и, если ее не сбросить, отлуп не будет отправлен.
  * fido2rel: при отлупах на письма с RRC предустанавливается переменная
    [DontSend], и, если ее сбросить, отлуп будет отправлен. Раньше отлупы
    никогда не слались.
  + в конфиге и в темплейтах в операции @if кроме обычного сравнения
    возможно мягкое "=~" - с маской или regex в косых скобках.
  + увеличена скорость обработки регулярных выражений в версии под OS/2
    (теперь они компилируются не при каждом сравнении, а только один раз).
  + rel2fido/dos, fido2rel/dos: буфера под письма и под части писем теперь
    могут располагаться в EMS.
  + rel2fido теперь умеет обрабатывать rbmail/rcbmail задания из UUPC-спула.
  ! rel2fido: при savehdr=no удалялись вообще все клуджи :-(
  + новый параметр конфига kill-vcard={yes|no}. При yes части text/x-vcard
    удаляются.
  + новый параметр конфига honour-alternate={yes|no}. При yes из
    multipart/alternate оставляется только первая часть и все text/plain.
  + новые значения параметра decode-attach: "hold" - синоним "yes",
    "deny" - слать отлуп, "route" - делать транзитный файлаттач для
    отправки по файловому роутингу.
  + для badaddr.tpl новое значение [reason] - "FileAttach".
  * теперь аттачем считается даже часть с content-type: text/plain, если
    указано content-disposition: attachment.
  + новый параметр hold-huge={yes|no}. При "no" письма размером более
    holdsize не холдятся, а шлется отлуп.
  + для badaddr.tpl новое значение [reason] - "TooLarge".
  + новый параметр split-reports={yes|no}. При "no" мессаги с
    content-type: multipart/report (обычно отлупы) не разбиваются на
    части (независимо от split-multipart) и аттачи оттуда не декодируются
    (независимо от decode-attach). Default is no.
  ! fido2rel: нормально обрабатывается ситуация, когда один файл приаттачен
    нескольким получателям при упаковке мыла в pkt (даже если стоит
    атрибут KFS или TFS).
  * вместо "route-split <size> ..." сделано "route=uue /split=<size> ...".
    Старый формат пока поддерживается для совместимости.
  + в route-uue новый ключ /password=..., можно указывать/проверять пароль
    на линк (пишется в открытом виде в поле X-Password заголовка).
  + в route-uue новый ключ /pgp - слать файл pgp encrypted. Attuucp
    декодирует pgp-messages (Content-Transfer-Encoding: x-pgp) запуском
    внешнего pgp, новые параметры конфига pgp-encode и pgp-decode.
  + в route-uue новый ключ /sign - писать pgp-сигнатуру и проверять ее
    от этого линка. Новые параметры конфига pgp-check и pgp-sign.
  * в связи с FSP-1010 умолчание для via изменено с long на short.
  + attuucp считает crc32 отправляемых файлов, и проверяет crc получаемых
    (если указано).
  + attuucp internal uue ставит/проверяет checksum в виде "sum -r/size ..."
    на файл (но не на секции uucode).
  + rel2fido: при декодировании uucoded-аттачей проверяется checksum,
    если она указана (при несовпадении - warning).
  + attuucp: новый параметр конфига incomplete - каталог, в котором
    хранятся принятые части аттачей до получения полного комплекта.
    По умолчанию %temp%\partial. Раньше всегда был %temp%; если там
    есть файлы "(tmp???).uue", их надо перенести в этот каталог, либо
    явно указать его на %temp%.
  + route-uue новый ключ /confirm - запрашивать подтверждение
    успешной доставки и повторять отправку в случае неудачи.
    Подробности в документации.
  + attuucp: новый параметр sentdir - каталог, в котором хранятся
    посланные письма, ждущие подтверждения приема (ключ /confirm).
    По умолчанию %temp%\sent.
  * attuucp: в route-uue ключ /mime переименован в /base64. Пока /mime
    тоже поддерживается для совместимости.
  + новый параметр LongBSO (только для версии под OS/2) - путь к LongBSO.
  * теперь параметры address, aka можно писать в виде
    address=2:46/128@fidonet fidonet.org
    т.е. нормальный 5d-address. В старом формате как ftn-domain используется
    первое слово inet-домена.
  + attuucp теперь может принимать аттачи в multipart/mixed.
  + новые параметры конфига tboxes, для версии под os/2 tlboxes и
    longboxes - файлбоксы t-mail, длинные файлбоксы t-mail и
    файлбоксы TheBrake.

ver 6.02 - 31 Dec 99
  ! rel2fido ругался на параметр sentdir.
  ! при отсутствии uupc\spool\fidonet\c rel2fido оставлял за собой
    fidonet.lck (который с руганью удалял при следующем запуске).
  ! rel2fido при длинном "X-FTN-To:" делал некорректный pkt.
  ! fido2rel: не гейтовались echomail-мессаги, в поле "To:"
    которых было несоответствие угловых скобок.
  ! rel2fido: при savehdr=no не отрабатывалось "X-Comment-To:".
  + поддерживается FSP-1006 ("@REPLYALSO").
  + поддерживается FSP-1007 ("GW-To:", "GW-Cc:", "GW-Bcc:").
  + опционально поддерживается FSP-1004.
  + rel2fido: делается конвертация "In-Reply-To:" или "References:"
    в "\x01REPLY:" (только при domain-id=yes)
  * строка, начинающаяся с " * Origin:", теперь считается origin-ом,
    только если это последняя значащая строка письма.
  ! rel2fido Y2K bug fixed (неправильно писалась дата в заголовке
    msg-аттача при гейтовании файлаттача, "0" вместо "00").
  ! hide-origin и hide-tearline=net расценивалось как no.

ver 6.03 - 29 Mar 00
  ! неправильно писался envelope from при установленном BangFrom=no
  + новый параметр gate.cfg env-chaddr (по умолчанию no). Если yes,
    то chaddr действует и на адрес в "From ", а не только на "From:"
  ! rel2fido падал при попытке получить " * Origin:" из инетовского
    постинга.
  ! fido2rel: не прибивались приаттаченные файлы.
  ! attuucp/unix bug (письма из mailbox удалялись).
  ! ошибка при работе с EMS, из-за чего fido2rel не гейтовал
    письма >12K, если есть EMS
  ! fido2rel: некорректно гейтовались непустые файлаттачи при AMA.
  ! attuucp не понимал параметр "maildir" в gate.cfg
  ! rel2fido не распаковывал компрессированные cnews-пакеты
    (распаковывал только из stdin)
  ! rel2fido: исправлена перекодировка заголовка при rfc2231
  ! fido2rel: при 8bit-header=no восьмибитные имена файлов кодируются
    в соответствии с rfc2231 ("name*=koi8-r''%C8.gif")
  ! при "fido2rel -tossbad -noecho" из bad msgs создавался pkt,
    но не гейтовался, а оставался в inbound
  ! attuucp неправильно декодировал аттачи, оформленные как multipart/mixed
  ! убран sharing violation при одновременном запуске утилит гейта в
    разных окнах
  ! forward: "can't read netmail directory" fixed

ver 6.03a (attuucp only) - 30 Mar 00
  ! attuucp запускался через раз

ver 7.0 - 17 Jun 00
  + LuckyGate become open sources (GNU GPL)!
  + Unix version available.
  * All sources reviewed. New bugs may appears.
  * fido2rel теперь переносит строку "Cc:" из начала письма
    в заголовок только если она содержит символ '@' и не содержит
    символ ':' (чтобы FTN 5d-адреса не принимать за инетовские).
  ! fido2rel/dos: ошибка с отправкой cnews-пакетов.
  + lgate/unix: дополнительные параметры fido2rel-chk-pl и
    rel2fido-chk-pl. При сборке configure --with-perl внешние
    чекеры теперь являются перловыми функциями (см. README).
    Версия lgate/2 EMX с поддержкой perl hooks предоставляется
    по запросу. ;-)
  + в конфиге и темплейтах понимается конструкция `command`.
    Например, "domain=`hostname`".
  + новый параметр gate.cfg charsets-dir - каталог с кодировками
    в формате mutt (mapping to unicode).
  + новый параметр gate.cfg charsets-alias (по умолчанию -
    $charsets-dir/charsets.alias) - файл с алиасами для названий
    charsets.
  + новый параметр fido-chrs (например, "fido-chrs=+7_FIDO x-cp866") -
    соответствие между фидошными CHRS и rfc-шными.
  + новый параметр gate.cfg put-chrs={yes|no} (default no) -
    ставить ли клудж CHRS в фидошных мессагах. Ставится первый
    из fido-chrs, соответствующий intsetname.
  + новый параметр gate.cfg inb-dir - каталог, в котором fido2rel
    ищет приаттаченные к msg файлы, если в заголовке путь не указан.
  + rel2fido: utf-8 support (only if charsets-dir defined).
  + новый параметр charset-alias - явное задание эквивалентности
    чарсетов (если дописывать в charsets.alias почему-то плохо).
  ! attuucp 6.03 не декодировал multipart-аттачи. :(

ver 7.1 - 16 Jan 01
  ! если в перловом фильтре нет нужной функции, работа программы
    не прерывается.
  ! fido2rel не отрабатывал KFS/TFS, если аттач гейтовался из *.msg
    без пути (при удалении файл искался в temp, а не в inb-dir).
  ! встроенные таблицы перекодировки теперь не перекрывают внешние
    (например, IntSetName=x-cp866 теперь не означает отсутствие
    украинской 'i' во внутренней кодировке).
  ! fido2rel/dos не отправлял cnews-пакеты.
  ! rel2fido: при replyto=addr вместо клуджа "\1REPLYTO addr" писался
    просто адрес отправителя (после пробела).
  ! не работал параметр echolog (было всегда yes).
  + в конфиге и темплейтах допустимо @elsif <expr>
  ! не работал itwit-via при via=short
  ! fido2rel: при гейтовании echomail адрес брался только из MSGID,
    но не из origin.
  + fido2rel: понимаются fidogate-style MSGID:
    @MSGID: <abc@domain> 1234abcd
  + rel2fido: новое значение параметра domain-id=fidogate - формировать
    @MSGID как fidogate
    (подробности - http://morannon.fido.de/fidogate/msgid-5.html).
  ! serious rel2fido bug
  ! serious fido2rel bug (didn't close/unlink temp file, too many
    open files)
  ! rfc2231 encode/decode bug
  ! fido2rel/dos не работал без share
  + добавлены makefile.bc для сборки BorlandC 3.1/dos
  ! attuucp multipart/mixed message/partial decode bug
  ! attuucp: get name from "name=" content-type param when
    multipart/mixed message/partial
  + новый ключ /extmsgid в строке group - дописывать имя конференции
    в message-id (после '|')
  + В badaddr.tpl новая переменная [Sender] - envelope-from адрес
  * Several attuucp changes

ver 7.02 -
  * forward: fromname-field in forward.cfg is wildcard now
  + новый параметр gate.cfg fromtop={yes|no} - если inet-addr не
    указан в заголовке msg, искать ли строки "To:" по всему тексту,
    или только в первой строке. По умолчанию no (по всему тексту).
  ! rel2fido: иногда (при гейтовании из UUPC spool при pack=no) msg
    мог попадать в pktin под именем *.pkt.
  ! rel2fido: "Memory allocation failed" fixed.
  ! fido2rel: fileattach gating fixed.
  + attuucp: декодирование аттачей в quoted-printable.

